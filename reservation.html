<!DOCTYPE html>
<html lang="sq">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Rezervoni takimin tuaj mjekësor online në MedReserve - Shpejt, thjesht dhe sigurt">
    <meta name="keywords" content="rezervime mjekësore, takime, online, klinikë">
    <meta name="author" content="MedReserve Team">
    <title>Rezervimi - Klinika Mjekësore</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <a href="#main-content" class="skip-link" data-translate="skip-to-content">Kalo te përmbajtja</a>

    <header role="banner">
        <div class="container">
            <div class="logo">
                <h1>MedReserve</h1>
            </div>
            <nav aria-label="Main navigation">
                <ul>
                    <li><a href="index.html" data-translate="home">Kryefaqja</a></li>
                    <li><a href="doctors.html" data-translate="doctors">Mjekët</a></li>
                    <li><a href="services.html" data-translate="services">Shërbimet</a></li>
                    <li><a href="reservation.html" class="active" data-translate="reservation" aria-current="page">Rezervimi</a></li>
                    <li><a href="contact.html" data-translate="contact">Kontakti</a></li>
                </ul>
            </nav>
            <div class="language-selector" aria-label="Language selector">
                <button id="lang-sq" class="active" aria-label="Shqip">SQ</button>
                <button id="lang-en" aria-label="English">EN</button>
            </div>
        </div>
    </header>

    <main id="main-content">
        <section class="page-header" aria-labelledby="page-header-heading">
            <div class="container">
                <h1 id="page-header-heading" data-translate="make-reservation">Bëj një Rezervim</h1>
            </div>
        </section>

        <section class="reservation-form" aria-labelledby="reservation-form-heading">
            <div class="container">
                <div class="form-container">
                    <form id="appointment-form" aria-labelledby="reservation-form-heading">
                        <fieldset aria-labelledby="service-fieldset-legend">
                            <legend id="service-fieldset-legend" data-translate="appointment-details">Detajet e Takimit</legend>

                            <div class="form-group">
                                <label for="service" data-translate="select-service">Zgjidhni Shërbimin</label>
                                <select id="service" name="service" required aria-describedby="service-help">
                                    <option value="" data-translate="choose-service">Zgjidhni një shërbim</option>
                                    <option value="cardiology" data-translate="cardiology">Kardiologji</option>
                                    <option value="neurology" data-translate="neurology">Neurologji</option>
                                    <option value="dentistry" data-translate="dentistry">Stomatologji</option>
                                    <option value="ophthalmology" data-translate="ophthalmology">Oftalmologji</option>
                                </select>
                                <span id="service-help" class="help-text" data-translate="service-help">Zgjidhni shërbimin që dëshironi</span>
                            </div>

                            <div class="form-group">
                                <label for="doctor" data-translate="select-doctor">Zgjidhni Mjekun</label>
                                <select id="doctor" name="doctor" required aria-describedby="doctor-help" aria-live="polite">
                                    <option value="" data-translate="choose-doctor">Zgjidhni një mjek</option>
                                    <!-- Will be populated based on service selection -->
                                </select>
                                <span id="doctor-help" class="help-text" data-translate="doctor-help">Zgjidhni mjekun tuaj të preferuar</span>
                            </div>

                            <div class="form-group">
                                <label for="date" data-translate="select-date">Zgjidhni Datën</label>
                                <input type="date" id="date" name="date" required aria-describedby="date-help">
                                <span id="date-help" class="help-text" data-translate="date-help">Zgjidhni një datë të disponueshme</span>
                            </div>

                            <div class="form-group">
                                <label for="time" data-translate="select-time">Zgjidhni Orën</label>
                                <select id="time" name="time" required aria-describedby="time-help" aria-live="polite">
                                    <option value="" data-translate="choose-time">Zgjidhni një orë</option>
                                    <!-- Will be populated based on date selection -->
                                </select>
                                <span id="time-help" class="help-text" data-translate="time-help">Zgjidhni orën e preferuar</span>
                            </div>
                        </fieldset>

                        <fieldset aria-labelledby="personal-info-legend">
                            <legend id="personal-info-legend" data-translate="personal-info">Të dhënat personale</legend>

                            <div class="form-group">
                                <label for="name" data-translate="your-name">Emri Juaj</label>
                                <input type="text" id="name" name="name" required aria-describedby="name-help">
                                <span id="name-help" class="help-text" data-translate="name-help">Shkruani emrin tuaj të plotë</span>
                            </div>

                            <div class="form-group">
                                <label for="email" data-translate="your-email">Email-i Juaj</label>
                                <input type="email" id="email" name="email" required aria-describedby="email-help">
                                <span id="email-help" class="help-text" data-translate="email-help">Shkruani adresën tuaj të emailit</span>
                            </div>

                            <div class="form-group">
                                <label for="phone" data-translate="your-phone">Numri i Telefonit</label>
                                <input type="tel" id="phone" name="phone" required aria-describedby="phone-help">
                                <span id="phone-help" class="help-text" data-translate="phone-help">Shkruani numrin tuaj të telefonit</span>
                            </div>

                            <div class="form-group">
                                <label for="notes" data-translate="notes">Shënime (opsionale)</label>
                                <textarea id="notes" name="notes" rows="4" aria-describedby="notes-help"></textarea>
                                <span id="notes-help" class="help-text" data-translate="notes-help">Çdo informacion shtesë që dëshironi të përmendni</span>
                            </div>
                        </fieldset>

                        <button type="submit" class="btn btn-primary" data-translate="confirm-reservation">Konfirmo Rezervimin</button>
                    </form>
                </div>

                <aside class="reservation-info" aria-labelledby="reservation-info-heading">
                    <h3 id="reservation-info-heading" data-translate="reservation-info">Informacion për Rezervimin</h3>
                    <p data-translate="reservation-info-text">Pasi të konfirmoni rezervimin tuaj, do të merrni një email konfirmimi me detajet e takimit tuaj. Ju lutemi paraqituni 15 minuta para orës së caktuar.</p>

                    <div class="contact-info" aria-labelledby="contact-help-heading">
                        <h4 id="contact-help-heading" data-translate="need-help">Keni nevojë për ndihmë?</h4>
                        <p><i class="fas fa-phone"></i> +355 69 123 4567</p>
                        <p><i class="fas fa-envelope"></i> rezervime@medreserve.al</p>
                    </div>
                </aside>
            </div>
        </section>
    </main>

    <div class="chatbot-container">
        <button class="chatbot-icon" id="chatbot-toggle" aria-label="Open chat">
            <i class="fas fa-comments"></i>
        </button>
        <div class="chatbot-box" id="chatbot-box" role="dialog" aria-labelledby="chatbot-heading">
            <div class="chatbot-header">
                <h3 id="chatbot-heading" data-translate="chat-with-us">Bisedo me Ne</h3>
                <button id="close-chatbot" aria-label="Close chat"><i class="fas fa-times"></i></button>
            </div>
            <div class="chatbot-messages" id="chatbot-messages" aria-live="polite">
                <div class="message bot">
                    <p data-translate="chatbot-welcome">Përshëndetje! Si mund t'ju ndihmoj sot me rezervimin tuaj?</p>
                </div>
            </div>
            <div class="chatbot-input">
                <input type="text" id="user-input" data-translate="type-message" placeholder="Shkruani mesazhin tuaj..." aria-label="Type your message">
                <button id="send-message" aria-label="Send message"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <footer role="contentinfo">
        <div class="container">
            <div class="footer-content">
                <section class="footer-section" aria-labelledby="footer-about">
                    <h3 id="footer-about">MedReserve</h3>
                    <p data-translate="footer-desc">Platforma juaj e besueshme për rezervime mjekësore online.</p>
                </section>
                <section class="footer-section" aria-labelledby="footer-links">
                    <h3 id="footer-links" data-translate="quick-links">Lidhje të Shpejta</h3>
                    <ul>
                        <li><a href="index.html" data-translate="home">Kryefaqja</a></li>
                        <li><a href="doctors.html" data-translate="doctors">Mjekët</a></li>
                        <li><a href="services.html" data-translate="services">Shërbimet</a></li>
                        <li><a href="reservation.html" data-translate="reservation">Rezervimi</a></li>
                    </ul>
                </section>
                <section class="footer-section" aria-labelledby="footer-contact">
                    <h3 id="footer-contact" data-translate="contact-us">Na Kontaktoni</h3>
                    <address>
                        <p><i class="fas fa-map-marker-alt"></i> <span data-translate="address">Rruga e Durrësit, Tiranë, Shqipëri</span></p>
                        <p><i class="fas fa-phone"></i> +355 69 123 4567</p>
                        <p><i class="fas fa-envelope"></i> info@medreserve.al</p>
                    </address>
                </section>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 MedReserve. <span data-translate="rights">Të gjitha të drejtat e rezervuara.</span></p>
            </div>
        </div>
    </footer>

    <script src="./js/translations.js"></script>
    <script src="./js/language-switcher.js"></script>
    <script src="./js/reservation.js"></script>
    <script src="./js/chatbot.js"></script>
    <script src="./js/main.js"></script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.8.0/firebase-analytics.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCMEgIWsIKykWsFHXFGCM5fEl51_Jjd0Tw",
            authDomain: "medreserve-c4727.firebaseapp.com",
            projectId: "medreserve-c4727",
            storageBucket: "medreserve-c4727.firebasestorage.app",
            messagingSenderId: "471960012100",
            appId: "1:471960012100:web:2ca0d9f0e9ba57b2800311",
            measurementId: "G-63WKXV10R1"
        };

        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
    </script>
</body>
</html>