<!DOCTYPE html>
<html lang="sq">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mjekët - Klinika Mjekësore</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <h1>MedReserve</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html" data-translate="home">Kryefaqja</a></li>
                    <li><a href="doctors.html" class="active" data-translate="doctors">Mjekët</a></li>
                    <li><a href="services.html" data-translate="services">Shërbimet</a></li>
                    <li><a href="reservation.html" data-translate="reservation">Rezervimi</a></li>
                    <li><a href="contact.html" data-translate="contact">Kontakti</a></li>
                </ul>
            </nav>
            <div class="language-selector">
                <button id="lang-sq" class="active">SQ</button>
                <button id="lang-en">EN</button>
            </div>
        </div>
    </header>

    <section class="page-header">
        <div class="container">
            <h1 data-translate="our-doctors">Mjekët Tanë</h1>
        </div>
    </section>

    <section class="doctors">
        <div class="container">
            <h2 class="section-title" data-translate="meet-our-specialists">Njihuni me Specialistët Tanë</h2>
            <div id="doctors-container"></div>
        </div>
    </section>

    <div class="chatbot-container">
        <div class="chatbot-icon" id="chatbot-toggle">
            <i class="fas fa-comments"></i>
        </div>
        <div class="chatbot-box" id="chatbot-box">
            <div class="chatbot-header">
                <h3 data-translate="chat-with-us">Bisedo me Ne</h3>
                <button id="close-chatbot"><i class="fas fa-times"></i></button>
            </div>
            <div class="chatbot-messages" id="chatbot-messages">
                <div class="message bot">
                    <p data-translate="chatbot-welcome">Përshëndetje! Si mund t'ju ndihmoj sot me rezervimin tuaj?</p>
                </div>
            </div>
            <div class="chatbot-input">
                <input type="text" id="user-input" data-translate="type-message" placeholder="Shkruani mesazhin tuaj...">
                <button id="send-message"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>MedReserve</h3>
                    <p data-translate="footer-desc">Platforma juaj e besueshme për rezervime mjekësore online.</p>
                </div>
                <div class="footer-section">
                    <h3 data-translate="quick-links">Lidhje të Shpejta</h3>
                    <ul>
                        <li><a href="index.html" data-translate="home">Kryefaqja</a></li>
                        <li><a href="doctors.html" data-translate="doctors">Mjekët</a></li>
                        <li><a href="services.html" data-translate="services">Shërbimet</a></li>
                        <li><a href="reservation.html" data-translate="reservation">Rezervimi</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3 data-translate="contact-us">Na Kontaktoni</h3>
                    <p><i class="fas fa-map-marker-alt"></i> <span data-translate="address">Rruga e Durrësit, Tiranë, Shqipëri</span></p>
                    <p><i class="fas fa-phone"></i> +355 69 123 4567</p>
                    <p><i class="fas fa-envelope"></i> info@medreserve.al</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 MedReserve. <span data-translate="rights">Të gjitha të drejtat e rezervuara.</span></p>
            </div>
        </div>
    </footer>

    <script src="./js/translations.js"></script>
    <script src="./js/language-switcher.js"></script>
    <script src="./js/chatbot.js"></script>
    <script src="./js/main.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', async function() {
            const response = await fetch('data/doctors.json');
            const doctors = await response.json();
            const container = document.getElementById('doctors-container');
            
            const grouped = doctors.reduce((acc, doctor) => {
                if (!acc[doctor.specialty]) acc[doctor.specialty] = [];
                acc[doctor.specialty].push(doctor);
                return acc;
            }, {});
            
            for (const [specialty, doctors] of Object.entries(grouped)) {
                const section = document.createElement('div');
                section.className = 'specialty-section';
                section.innerHTML = `
                    <h3 data-translate="${specialty}">${translations[document.documentElement.lang][specialty] || specialty}</h3>
                    <div class="doctors-grid" id="doctors-${specialty}"></div>
                `;
                container.appendChild(section);
                
                const grid = document.getElementById(`doctors-${specialty}`);
                doctors.forEach(doctor => {
                    grid.innerHTML += `
                        <div class="doctor-card">
                            <div class="doctor-image">
                                <img src="placeholder.jpg" data-src="${doctor.image}" class="lazyload" alt="${doctor.name}">
                            </div>
                            <div class="doctor-info">
                                <h4>${doctor.name}</h4>
                                <p class="doctor-specialty">${doctor.specialtyName}</p>
                                <p class="doctor-description">${doctor.description}</p>
                                <a href="reservation.html?doctor=${doctor.id}" class="btn btn-sm" data-translate="book-appointment">Rezervo Takim</a>
                            </div>
                        </div>
                    `;
                });
            }
            
            if (typeof initLazyLoad === 'function') {
                initLazyLoad();
            }
        });
    </script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.8.0/firebase-analytics.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyCMEgIWsIKykWsFHXFGCM5fEl51_Jjd0Tw",
            authDomain: "medreserve-c4727.firebaseapp.com",
            projectId: "medreserve-c4727",
            storageBucket: "medreserve-c4727.firebasestorage.app",
            messagingSenderId: "471960012100",
            appId: "1:471960012100:web:2ca0d9f0e9ba57b2800311",
            measurementId: "G-63WKXV10R1"
        };
        
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
    </script>
</body>
</html>